"use strict";
(self["webpackChunkdenanu_login"] = self["webpackChunkdenanu_login"] || []).push([["components-signup-signup-stories"],{

/***/ "./node_modules/@mui/icons-material/Email.js":
/*!***************************************************!*\
  !*** ./node_modules/@mui/icons-material/Email.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {



var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));
var _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"
}), 'Email');
exports["default"] = _default;

/***/ }),

/***/ "./src/components/signup/signup.stories.tsx":
/*!**************************************************!*\
  !*** ./src/components/signup/signup.stories.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __namedExportsOrder: () => (/* binding */ __namedExportsOrder),
/* harmony export */   banner: () => (/* binding */ banner),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _signup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./signup */ "./src/components/signup/signup.tsx");


// Default metadata of the story https://storybook.js.org/docs/react/api/csf#default-export
const meta = {
  title: "Components/DenanuSignup",
  component: _signup__WEBPACK_IMPORTED_MODULE_0__["default"]
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (meta);

// The story type for the component https://storybook.js.org/docs/react/api/csf#named-story-exports

const banner = {
  args: {
    emailUpdates: false,
    backendLocation: "http://localhost:8000"
  },
  argTypes: {
    emailUpdates: {
      table: {
        defaultValue: {
          summary: false
        }
      },
      control: {
        type: 'boolean'
      },
      description: "Show the E-mail update checkbox"
    },
    backendLocation: {
      description: "Url of the sever backend"
    }
  }
};
banner.parameters = {
  ...banner.parameters,
  docs: {
    ...banner.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    emailUpdates: false,\n    backendLocation: \"http://localhost:8000\"\n  },\n  argTypes: {\n    emailUpdates: {\n      table: {\n        defaultValue: {\n          summary: false\n        }\n      },\n      control: {\n        type: 'boolean'\n      },\n      description: \"Show the E-mail update checkbox\"\n    },\n    backendLocation: {\n      description: \"Url of the sever backend\"\n    }\n  }\n}",
      ...banner.parameters?.docs?.source
    }
  }
};
const __namedExportsOrder = ["banner"];

/***/ }),

/***/ "./src/components/api/signup.tsx":
/*!***************************************!*\
  !*** ./src/components/api/signup.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   booleanToString: () => (/* binding */ booleanToString),
/* harmony export */   signup: () => (/* binding */ signup)
/* harmony export */ });
/* harmony import */ var crypto_hash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto-hash */ "./node_modules/crypto-hash/browser.js");

function booleanToString(val) {
  return val ? "true" : "false";
}
async function signup(urlApi, handleError, onSuccess, username, email, password, remember, sendmail) {
  if (username && email && password) {
    const data = await fetch(urlApi + "/signup.php?" + new URLSearchParams({
      username: username,
      mail: email,
      remember: booleanToString(remember),
      password: await (0,crypto_hash__WEBPACK_IMPORTED_MODULE_0__.sha512)(password),
      sendmail: booleanToString(sendmail)
    })).then(r => r.json());
    if (data.status === "success") {
      onSuccess();
    } else if (data.status === "fail") {
      handleError(data.reason);
    }
  }
}
try {
    // @ts-ignore
    booleanToString.displayName = "booleanToString";
    // @ts-ignore
    booleanToString.__docgenInfo = { "description": "", "displayName": "booleanToString", "props": {} };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/components/api/signup.tsx#booleanToString"] = { docgenInfo: booleanToString.__docgenInfo, name: "booleanToString", path: "src/components/api/signup.tsx#booleanToString" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ }),

/***/ "./src/components/signup/signup.tsx":
/*!******************************************!*\
  !*** ./src/components/signup/signup.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SignUp)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _mui_material_Avatar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material/Avatar */ "./node_modules/@mui/material/Avatar/Avatar.js");
/* harmony import */ var _mui_material_Button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material/Button */ "./node_modules/@mui/material/Button/Button.js");
/* harmony import */ var _mui_material_TextField__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material/TextField */ "./node_modules/@mui/material/TextField/TextField.js");
/* harmony import */ var _mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material/FormControlLabel */ "./node_modules/@mui/material/FormControlLabel/FormControlLabel.js");
/* harmony import */ var _mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material/Checkbox */ "./node_modules/@mui/material/Checkbox/Checkbox.js");
/* harmony import */ var _mui_material_Link__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material/Link */ "./node_modules/@mui/material/Link/Link.js");
/* harmony import */ var _mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material/Grid */ "./node_modules/@mui/material/Grid/Grid.js");
/* harmony import */ var _mui_material_Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material/Box */ "./node_modules/@mui/material/Box/Box.js");
/* harmony import */ var _mui_icons_material_LockOutlined__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/LockOutlined */ "./node_modules/@mui/icons-material/LockOutlined.js");
/* harmony import */ var _mui_material_Typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material/Typography */ "./node_modules/@mui/material/Typography/Typography.js");
/* harmony import */ var _mui_material_Container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material/Container */ "./node_modules/@mui/material/Container/Container.js");
/* harmony import */ var _api_signup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/signup */ "./src/components/api/signup.tsx");
/* harmony import */ var _mui_icons_material_Email__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/Email */ "./node_modules/@mui/icons-material/Email.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
















function SignUp(props) {
  const {
    emailUpdates,
    backendLocation
  } = props;
  const [unameError, setUnameError] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);
  const [emailError, setEmailError] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);
  const [pswrdError, setPswrdError] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);
  const [awaitAuthentication, setAwaitAuthentication] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);
  const [unameErrorMsg, setUnameErrorMsg] = react__WEBPACK_IMPORTED_MODULE_0__.useState(undefined);
  const handleSubmit = event => {
    event.preventDefault();
    const data = new FormData(event.currentTarget);
    const uname = data.get("user-name")?.toString();
    const email = data.get("email")?.toString();
    const pswrd = data.get("password")?.toString();
    const memo = data.get("remember")?.valueOf();
    const sendmail = data.get("receiveEmails")?.toString();
    setUnameErrorMsg(undefined);
    (0,_api_signup__WEBPACK_IMPORTED_MODULE_1__.signup)(backendLocation, reason => {
      if (reason === "uname Exists") {
        setUnameErrorMsg("Username already exists");
      }
    }, () => {
      setAwaitAuthentication(true);
    }, uname, email, pswrd, memo, sendmail);
    setUnameError(uname === "");
    setEmailError(email === "");
    setPswrdError(pswrd === "");
  };
  const baseBoxSx = {
    marginTop: 8,
    display: 'flex',
    flexDirection: 'column',
    alignItems: 'center'
  };
  if (awaitAuthentication) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Container__WEBPACK_IMPORTED_MODULE_3__["default"], {
      maxWidth: "xs",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_4__["default"], {
        sx: baseBoxSx,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Avatar__WEBPACK_IMPORTED_MODULE_5__["default"], {
          sx: {
            m: 1,
            bgcolor: 'secondary.main'
          },
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_icons_material_Email__WEBPACK_IMPORTED_MODULE_6__["default"], {})
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
          component: "h1",
          variant: "h5",
          children: "E-Mail verification"
        }), "Please verify your E-Mail"]
      })
    });
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Container__WEBPACK_IMPORTED_MODULE_3__["default"], {
    maxWidth: "xs",
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_4__["default"], {
      sx: baseBoxSx,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Avatar__WEBPACK_IMPORTED_MODULE_5__["default"], {
        sx: {
          m: 1,
          bgcolor: 'secondary.main'
        },
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_icons_material_LockOutlined__WEBPACK_IMPORTED_MODULE_8__["default"], {})
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_7__["default"], {
        component: "h1",
        variant: "h5",
        children: "Sign up"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_4__["default"], {
        component: "form",
        noValidate: true,
        onSubmit: handleSubmit,
        sx: {
          mt: 3
        },
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__["default"], {
          container: true,
          spacing: 2,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__["default"], {
            item: true,
            xs: 12,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_10__["default"], {
              required: true,
              fullWidth: true,
              id: "user-name",
              label: "User Name",
              name: "user-name",
              autoComplete: "user-name",
              error: unameError || Boolean(unameErrorMsg),
              helperText: unameErrorMsg
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__["default"], {
            item: true,
            xs: 12,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_10__["default"], {
              required: true,
              fullWidth: true,
              id: "email",
              label: "Email Address",
              name: "email",
              autoComplete: "email",
              error: emailError
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__["default"], {
            item: true,
            xs: 12,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_10__["default"], {
              required: true,
              fullWidth: true,
              name: "password",
              label: "Password",
              type: "password",
              id: "password",
              autoComplete: "new-password",
              error: pswrdError
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__["default"], {
            item: true,
            xs: 12,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_11__["default"], {
              control: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_12__["default"], {
                value: true,
                color: "primary"
              }),
              label: "Remember me",
              name: "remember"
            })
          }), emailUpdates ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__["default"], {
            item: true,
            xs: 12,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_11__["default"], {
              control: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_12__["default"], {
                value: true,
                color: "primary"
              }),
              label: "I want to receive inspiration, marketing promotions and updates via email.",
              name: "receiveEmails"
            })
          }) : null]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_13__["default"], {
          type: "submit",
          fullWidth: true,
          variant: "contained",
          sx: {
            mt: 3,
            mb: 2
          },
          children: "Sign Up"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__["default"], {
          container: true,
          justifyContent: "flex-end",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Grid__WEBPACK_IMPORTED_MODULE_9__["default"], {
            item: true,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_mui_material_Link__WEBPACK_IMPORTED_MODULE_14__["default"], {
              href: "#",
              variant: "body2",
              children: "Already have an account? Sign in"
            })
          })
        })]
      })]
    })
  });
}
SignUp.displayName = "SignUp";
try {
    // @ts-ignore
    signup.displayName = "signup";
    // @ts-ignore
    signup.__docgenInfo = { "description": "", "displayName": "signup", "props": { "emailUpdates": { "defaultValue": null, "description": "", "name": "emailUpdates", "required": false, "type": { "name": "boolean" } }, "backendLocation": { "defaultValue": null, "description": "", "name": "backendLocation", "required": true, "type": { "name": "string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/components/signup/signup.tsx#signup"] = { docgenInfo: signup.__docgenInfo, name: "signup", path: "src/components/signup/signup.tsx#signup" };
}
catch (__react_docgen_typescript_loader_error) { }

/***/ })

}]);
//# sourceMappingURL=components-signup-signup-stories.iframe.bundle.js.map